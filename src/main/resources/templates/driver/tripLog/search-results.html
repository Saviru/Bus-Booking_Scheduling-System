<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Trip Log Search Results</title>
    <meta charset="UTF-8">
</head>
<body>
    <h1>Trip Log Search Results</h1>
    
    <div>
        <a href="/driver/trip-logs">Back to Trip Logs</a> |
        <a href="/driver/trip-logs/search">New Search</a>
    </div>
    
    <div th:if="${startDate != null && endDate != null}">
        <p>Date Range: <span th:text="${startDate}"></span> to <span th:text="${endDate}"></span></p>
    </div>
    
    <div th:if="${tripLogs == null}">
        <p>No search criteria provided. Please specify search parameters.</p>
    </div>
    
    <div th:if="${tripLogs != null && tripLogs.empty}">
        <p>No trip logs found matching your search criteria.</p>
    </div>
    
    <table th:if="${tripLogs != null && !tripLogs.empty}" border="1">
        <thead>
            <tr>
                <th>Driver</th>
                <th>Vehicle</th>
                <th>Route</th>
                <th>Start Time</th>
                <th>End Time</th>
                <th>Duration</th>
                <th>Passengers</th>
                <th>Status</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            <tr th:each="tripLog : ${tripLogs}">
                <td th:text="${tripLog.driverName + (tripLog.driverId != null ? ' (' + tripLog.driverId + ')' : '')}"></td>
                <td th:text="${tripLog.vehicleNumber}"></td>
                <td th:text="${tripLog.routeId}"></td>
                <td th:text="${tripLog.startTime}"></td>
                <td th:text="${tripLog.endTime}"></td>
                <td th:text="${tripLog.tripDurationMinutes + ' mins'}"></td>
                <td th:text="${tripLog.passengerCount}"></td>
                <td th:text="${tripLog.status}"></td>
                <td>
                    <a th:href="@{/driver/trip-logs/{id}(id=${tripLog.id})}">View</a> |
                    <a th:href="@{/driver/trip-logs/{id}/edit(id=${tripLog.id})}">Edit</a>
                </td>
            </tr>
        </tbody>
    </table>
</body>
</html>