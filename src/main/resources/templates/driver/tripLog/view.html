<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>View Trip Log</title>
    <meta charset="UTF-8">
</head>
<body>
    <h1>Trip Log Details</h1>
    
    <div>
        <a href="/driver/trip-logs">Back to Trip Logs</a> |
        <a th:href="@{/driver/trip-logs/{id}/edit(id=${tripLog.id})}">Edit Trip Log</a> |
        <a th:href="@{/driver/trip-logs/performance(driverId=${tripLog.driverId})}" 
           th:if="${tripLog.driverId != null}">View Driver Performance</a>
    </div>
    
    <div>
        <h3>Driver & Vehicle Information</h3>
        <table border="1">
            <tr>
                <th>Driver Name</th>
                <td th:text="${tripLog.driverName}"></td>
            </tr>
            <tr th:if="${tripLog.driverId != null}">
                <th>Driver ID</th>
                <td th:text="${tripLog.driverId}"></td>
            </tr>
            <tr>
                <th>Vehicle Number</th>
                <td th:text="${tripLog.vehicleNumber}"></td>
            </tr>
        </table>
    </div>
    
    <div>
        <h3>Trip Details</h3>
        <table border="1">
            <tr>
                <th>Route ID</th>
                <td th:text="${tripLog.routeId}"></td>
            </tr>
            <tr th:if="${tripLog.scheduleId != null}">
                <th>Schedule ID</th>
                <td th:text="${tripLog.scheduleId}"></td>
            </tr>
            <tr>
                <th>Start Time</th>
                <td th:text="${tripLog.startTime}"></td>
            </tr>
            <tr>
                <th>End Time</th>
                <td th:text="${tripLog.endTime}"></td>
            </tr>
            <tr>
                <th>Duration</th>
                <td th:text="${tripLog.tripDurationMinutes + ' minutes'}"></td>
            </tr>
            <tr>
                <th>Passenger Count</th>
                <td th:text="${tripLog.passengerCount}"></td>
            </tr>
            <tr>
                <th>Status</th>
                <td th:text="${tripLog.status}"></td>
            </tr>
            <tr th:if="${tripLog.fuelConsumed != null}">
                <th>Fuel Consumed</th>
                <td th:text="${tripLog.fuelConsumed + ' liters'}"></td>
            </tr>
            <tr th:if="${tripLog.mileage != null}">
                <th>Mileage</th>
                <td th:text="${tripLog.mileage + ' km'}"></td>
            </tr>
        </table>
    </div>
    
    <div th:if="${tripLog.issuesEncountered != null && !tripLog.issuesEncountered.empty}">
        <h3>Issues Encountered</h3>
        <p th:text="${tripLog.issuesEncountered}"></p>
    </div>
    
    <div th:if="${tripLog.notes != null && !tripLog.notes.empty}">
        <h3>Additional Notes</h3>
        <p th:text="${tripLog.notes}"></p>
    </div>
    
    <div>
        <h3>System Information</h3>
        <table border="1">
            <tr>
                <th>Created</th>
                <td th:text="${tripLog.createdAt}"></td>
            </tr>
            <tr>
                <th>Last Updated</th>
                <td th:text="${tripLog.updatedAt}"></td>
            </tr>
        </table>
    </div>
</body>
</html>