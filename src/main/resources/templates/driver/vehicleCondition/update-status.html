<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Update Report Status</title>
    <meta charset="UTF-8">
</head>
<body>
    <h1>Update Report Status</h1>
    
    <div>
        <a href="/driver/vehicle-reports">Back to Reports</a> |
        <a th:href="@{/driver/vehicle-reports/{id}(id=${report.id})}">View Report Details</a>
    </div>
    
    <div>
        <h3>Report Information</h3>
        <p>Vehicle: <span th:text="${report.vehicleNumber}"></span></p>
        <p>Driver: <span th:text="${report.driverName}"></span></p>
        <p>Report Date: <span th:text="${report.reportDate}"></span></p>
        <p>Current Status: <span th:text="${report.status}"></span></p>
    </div>
    
    <form th:action="@{/driver/vehicle-reports/{id}/update-status(id=${report.id})}" method="post">
        <div>
            <label for="status">New Status:</label>
            <select id="status" name="status" required>
                <option value="PENDING" th:selected="${report.status == 'PENDING'}">Pending</option>
                <option value="REVIEWED" th:selected="${report.status == 'REVIEWED'}">Reviewed</option>
                <option value="IN_REPAIR" th:selected="${report.status == 'IN_REPAIR'}">In Repair</option>
                <option value="RESOLVED" th:selected="${report.status == 'RESOLVED'}">Resolved</option>
            </select>
        </div>
        
        <div>
            <label for="reviewedBy">Reviewed By:</label>
            <input type="text" id="reviewedBy" name="reviewedBy" th:value="${report.reviewedBy}">
        </div>
        
        <div>
            <label for="maintenanceNotes">Maintenance Notes:</label>
            <textarea id="maintenanceNotes" name="maintenanceNotes" rows="5" cols="50" 
                      th:text="${report.maintenanceNotes}"></textarea>
        </div>
        
        <div>
            <label for="followUpAction">Follow-up Action:</label>
            <textarea id="followUpAction" name="followUpAction" rows="5" cols="50" 
                      th:text="${report.followUpAction}"></textarea>
        </div>
        
        <div>
            <button type="submit">Update Status</button>
        </div>
    </form>
</body>
</html>