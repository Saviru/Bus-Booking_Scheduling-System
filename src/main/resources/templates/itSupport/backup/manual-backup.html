<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Manual Backup</title>
    <meta charset="UTF-8">
</head>
<body>
    <h1>Run Manual Backup</h1>
    
    <div>
        <a href="/it-support/backup/configs">Back to Configurations</a> |
        <a href="/it-support/backup/history">View Backup History</a>
    </div>
    
    <form action="/it-support/backup/manual" method="post">
        <div>
            <label for="configId">Select Backup Configuration:</label>
            <select id="configId" name="configId" required>
                <option value="">-- Select Configuration --</option>
                <option th:each="config : ${configs}" 
                        th:value="${config.id}" 
                        th:text="${config.name + ' (' + config.backupType + ')'}">
                </option>
            </select>
        </div>
        
        <!-- In a real application, you would get the current user ID from the session -->
        <input type="hidden" name="userId" value="2"> <!-- Assuming current user ID is 2 (Saviru) -->
        
        <div>
            <button type="submit">Start Backup</button>
        </div>
    </form>
    
    <div>
        <h3>Note:</h3>
        <p>Manual backups are initiated immediately. The process will run in the background.</p>
        <p>You will be redirected to the backup history page where you can monitor the progress.</p>
    </div>
</body>
</html>